FROM node:20

WORKDIR /app

COPY package.json pnpm-lock.yaml* ./

RUN corepack enable pnpm && pnpm install

COPY . .

RUN npx prisma generate

EXPOSE 3333

CMD ["pnpm", "dev"]
